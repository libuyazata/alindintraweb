<div class="page-header-container">
    <div class="page-header">
        <div class="row">
            <div class="col-lg-12">
                <h4>
                    <span>User List</span>
                </h4>
            </div>
        </div>
    </div>
   <!--  <div class="row" *allowUser="'admin'">
        <div class="col-lg-12 search-container">
                <div class="row">
                    <div class="col-lg-12 pt-4">
                        <span class="float-right">
                            <button class="btn btn-info float-right" [routerLink]="['/save-user/']" [queryParams]="{ 'uid': '0'}"><i class="fa fa-plus"></i> Manage Employee</button>
                        </span>
                    </div>
                </div>
        </div>
    </div> -->
	<div class="row">
                            <div class="col-lg-12 search-container">
									<form novalidate [formGroup]="materialRequestSearchForm" (ngSubmit)="onEmployeeSearched();">
										<div class="row">
											<div class="col-lg-2">
												<div class="search-label-container"><label>Search</label></div>
												<input formControlName="searchKeyWord" class="form-control" placeholder="Search.."/>  
											</div> 
											<div class="col-lg-4 pt-4">                    
												<span class="float-left">
													<button class="btn btn-info" type="submit">Search</button>  
													<button class="btn btn-danger" type="reset" (click)="clearSearchForm()">Clear</button>
													<span *ngIf="isAdminUser">
													<button class="btn btn-info" [routerLink]="['/save-user/']" [queryParams]="{ 'uid': '0'}"><i class="fa fa-plus"></i> Manage Employee</button>
													</span>
												</span>
											</div> 
										</div>
									</form> 
							</div>
</div>

</div><br/>

<div class="page-content">
  <div>
     <div class="table100">
        <table [mfData]="employeeList" #mf="mfDataTable" [mfRowsOnPage]="10"
                [mfSortBy]="sortBy" [mfSortOrder]="sortOrder">
            <thead>
            <tr class="table100-head">
                <th class="column1">
                    <mfDefaultSorter by="empCode">Employee Code</mfDefaultSorter>
                </th>
                <th class="column2">
                    <mfDefaultSorter by="name">Name</mfDefaultSorter>
                </th>
                <!-- <th>
                    <mfDefaultSorter by="firstName">First Name</mfDefaultSorter>
                </th>
                <th>
                    <mfDefaultSorter by="lastName">Last Name</mfDefaultSorter>
                </th> -->
                <th class="column3">
                    <mfDefaultSorter by="emailId">Email</mfDefaultSorter>
                </th>
                 <th class="column4">
                    <mfDefaultSorter by="department.departmentName">Department</mfDefaultSorter>
                </th>
                <th class="column5">
                  <mfDefaultSorter by="primaryMobileNo">Mobile #</mfDefaultSorter>
                </th>
              	<th class="column6"></th>
			  <!-- <th *allowUser="'admin'">
                Action
              </th> -->
            </tr>
            </thead>
            <tbody *ngFor="let item of mf.data">
            <tr class="hover-action-row">
                <!-- <td><a class="link" [routerLink]="['/user-info/']" [queryParams]="{ 'uid': item.userId}">{{item.firstName}}</a></td>
                <td><a class="link" [routerLink]="['/user-info/']" [queryParams]="{ 'uid': item.userId}">{{item.lastName}}</a></td> -->
                <td class="column1"><a class="link">{{item.empCode | uppercase}}</a></td>
                <td class="column2"><a class="link">{{item.firstName | uppercase}} {{item.lastName | uppercase}}</a></td>
                <!-- <td><a class="link">{{item.lastName | uppercase}}</a></td> -->
                <td class="column3">{{item.emailId | lowercase}}</td>
                <td class="column4">{{item.departmentName | uppercase}}</td>
                <td class="column5">{{item.primaryMobileNo | uppercase }}</td>
				<td class="column6 col-md-2"></td>
<!-- 				<td class="actions" *allowUser="'admin'" [routerLink]="['/save-user/']" [queryParams]="{ 'uid': item.employeeId}">
 -->				<td class="actions">
                <div class="link-holder">
					<span *ngIf="prv_employeeDelete == 'true' && isAdminUser">
					<a class="link" title="Delete" (click)="deleteEmployee(item);" ><i class="fas fa-trash"></i></a>
					</span>
					<span *ngIf="prv_employeeEdit == 'true' && isAdminUser" >
					<a class="link" [routerLink]="['/edit-user/']"  [queryParams]="{ 'uid': item.employeeId}"><i class="fas fa-edit"></i></a>
                    </span>
					<span>
					<a class="link" title="View Details" (click)="viewDetails(item.employeeId);"><i class="fas fa-eye"></i></a>
					</span>
					<!-- <span>
					<a class="link" ><i class="fas fa-plus" title="Upload Profile Picture" (click)="openUploadprofileModal()"></i></a>
                    </span> -->
				  <!-- <a class="link" (click)="onUserEditClicked($event, item);"><i class="far fa-edit"></i></a> -->
                </div>
				</td>
            </tr>
            </tbody>
            <tfoot>
              <tr>
                  <td colspan="7">
                      <mfBootstrapPaginator [rowsOnPageSet]="[5,10,15]"></mfBootstrapPaginator>
                  </td>
              </tr>
            </tfoot>
          </table>
    </div>
  </div>
</div>
<!-- Upload Profile Photo Modal Form -->
  <div class="modal salary-info-model" id="profilePhotoModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Upload Profile Picture</h5>
            <button class="close" type="button" data-dismiss="modal" appModal  (click)="closeprofilePictureModal();">&times;</button>
          </div>
          <form novalidate [formGroup]="minsOfMeetingForm" (ngSubmit)="onMoMDetailsSubmitted();">
			<div class="modal-body">
            <div class="row form-group">
                <div class="col-lg-12">  
                    <label>Please select a file to upload.</label>
                </div> 
                <div class="col-lg-12">  
                    <input type="" name="employeeId" formControlName="employeeId" value="1">
                    <input type="file" id="momFile" (change)="onMoMFileSelected($event.target.files)">
                    <!-- <div class="row form-group">
                        <div class="col-lg-3"> 
                            <br/>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" aria-valuenow="70" 
                                    aria-valuemin="0" aria-valuemax="100" [style.width]="uploadPerCent + '%'">
                                        {{ uploadPerCent == '0' ? '' : uploadPerCent }}
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <br/> 
                </div> 
            </div>
			</div>
			<div class="modal-footer">
              <button class="btn btn-primary" type="submit">Save</button>
			  <button class="btn btn-danger" type="button" data-dismiss="modal" appModal (click)="closeprofilePictureModal();">Close</button>
            </div>
			</form>
        </div>
      </div>
    </div>
	<!-- View Employee details Modal Form -->
  <div class="modal salary-info-model" id="descriptionModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">View Employee Details</h5>
            <button class="close" type="button" data-dismiss="modal" appModal  (click)="closeDescriptionModal();">&times;</button>
          </div>
			<div class="modal-body">
			 <div *ngFor="let empData of employeeDetails">
					<div class="row form-group">
					  <div class="col-lg-12" >
						First Name : <b>{{empData.firstName}} </b>                
					  </div>
					  </div>
					  <div class="row form-group">
					  <div class="col-lg-12" >
						Last Name : <b>{{empData.lastName}} </b>                
					  </div>
					  </div>
					  <div class="row form-group">
					  <div class="col-lg-12" >
						Nationality : <b>{{empData.nationality}} </b>                
					  </div>
					   </div>
					  <div class="row form-group">
					  <div class="col-lg-12" >
						Employee Code : <b>{{empData.empCode}} </b>                
					  </div>
					   </div>
					  <div class="row form-group">
					  <div class="col-lg-12" >
						Employee Type : <b>{{empData.employeeTypeName}} </b>                
					  </div>
					   </div>
					  <div class="row form-group">
					  <div class="col-lg-12" >
						Employee Role : <b>{{empData.roleName}} </b>                
					  </div>
					   </div>
					  <div class="row form-group">
					  <div class="col-lg-12" >
						Department : <b>{{empData.departmentName}} </b>                
					  </div>
					  </div> 
					  <div class="row form-group">
					  <div class="col-lg-12" >
						<img src="http://97.74.85.211:8080/{{empData.profilePicPath}}" style="border-radius: 0%;width:30%;" class="pr-1 pl-2">               
					  </div>
					  </div>
				</div> 
            </div>
			<div class="modal-footer">
              <button class="btn btn-danger" type="button" data-dismiss="modal" appModal (click)="closeDescriptionModal();">Close</button>
            </div>
        </div>
      </div>
    </div>

